define("module/common/basics/teacherCloud/cloudValid",["lib/tizi_common/0.0.1/tizi_datatype","module/common/ajax/teacherCloud/cloudAjax"],function(require,exports){var cloudAjax=(require("lib/tizi_common/0.0.1/tizi_datatype").dataType(),require("module/common/ajax/teacherCloud/cloudAjax"));exports.creat=function(){var _Form=$(".creatNewFileForm").Validform({tiptype:3,showAllError:!1,ajaxPost:!0,callback:function(data){cloudAjax.creat(data)}});_Form.addRule([{ele:"#create_fileName",datatype:"*1-50",nullmsg:"请输入文件夹名称",errormsg:"长度1-50字符之间"}])},exports.shareFile=function(){var _Form=$(".shareFliesHasClassForm").Validform({tiptype:3,showAllError:!1,ajaxPost:!0,callback:function(data){cloudAjax.shareFile(data)}});_Form.addRule([{ele:":checkbox:last",datatype:"*",nullmsg:"请选择班级",errormsg:"选择错误！"}])},exports.resetFile=function(){var _Form=$(".resetFileNameForm").Validform({tiptype:3,showAllError:!1,ajaxPost:!0,callback:function(data){cloudAjax.resetFile(data)}});_Form.addRule([{ele:"#resetFileNameTxt",datatype:"*1-50",nullmsg:"请输入文件名称",errormsg:"长度1-50字符之间"}])}}),define("module/common/ajax/teacherCloud/cloudAjax",[],function(require,exports){exports.creat=function(data){1==data.errorcode?($.tiziDialog.list.create_new_fileId.close(),$.tiziDialog({content:data.error,icon:"succeed",ok:function(){},close:function(){window.location.reload()}})):$.tiziDialog({content:data.error})},exports.shareFile=function(data){1==data.errorcode?($.tiziDialog.list.shareFile_id.close(),$.tiziDialog({content:data.error,icon:"succeed",ok:function(){1==data.errorcode&&(window.location.href=data.url)}})):$.tiziDialog({content:data.error})},exports.resetFile=function(data){if(1==data.errorcode){$.tiziDialog.list.resetFile_id.close();var ext=$("tr[df_id="+data.file_id+"]").find("span.for_rename").attr("file-ext");ext=ext?"."+ext:"";var is_file=$("tr[df_id="+data.file_id+"]").find("a.resetFlieName").attr("is_file"),name=data.name;is_file&&(name=data.name+ext),$("tr[df_id="+data.file_id+"]").find("span.for_rename").find("a").length>0?$("tr[df_id="+data.file_id+"]").find("span.for_rename").find("a").text(name):$("tr[df_id="+data.file_id+"]").find("span.for_rename").text(name),$("tr[df_id="+data.file_id+"]").find("span.for_rename").attr("title",name),$("tr[df_id="+data.file_id+"]").find("a").attr("file_name",name),$("tr[df_id="+data.file_id+"]").find("a.resetFlieName").attr("file_name",data.name),$.tiziDialog({content:data.error,icon:"succeed",ok:function(){}})}else $.tiziDialog({content:data.error})}});