define("module/common/ajax/teacherClass/classAjax",["module/common/basics/common/showLogin"],function(require,exports){var showLogin=require("module/common/basics/common/showLogin");exports.common=function(data){1==data.code?$.tiziDialog({content:data.msg,icon:"succeed",ok:function(){window.location.href=data.redirect}}):-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.invite=function(data){1==data.code?window.location.href=data.redirect:-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.deleteClass=function(data){1==data.code?($.tiziDialog.list.deleteClassId.close(),$.tiziDialog({content:data.msg,icon:"succeed",ok:function(){window.location.reload()}})):-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.createStudent=function(data,type){if(1==data.code){var st=data.students;ga("send","event","CreateStudent-"+type,"CreateStudent",type,data.students.length),$.tiziDialog({content:data.msg+"<br />请将学号和密码告知您的学生，尽快登录。",icon:"succeed",ok:function(){for(var tr="",i=0;i<data.students.length;++i){var atr=$("#crtemplate").html();atr=atr.replace("%student_name%",st[i].student_name),atr=atr.replace("%student_id%",st[i].student_id),atr=atr.replace("%student_id%",st[i].student_id),atr=atr.replace("%password%",st[i].password),tr+=atr}$.browser.msie&&"7.0"==$.browser.version||$.browser.msie&&"6.0"==$.browser.version?($(".myallClass_student").append("<tr>"+tr+"</tr>"),$(".myallClass_student tr").each(function(){""==$(this).html()&&$(this).remove()})):$(".myallClass_student").append(tr);var student_total=parseInt($("#student_total").text());$("#student_total").text(student_total+data.students.length),$("#dlacc").css("display","inline-block"),$("#havestudentdiv").css("display","block"),$(".emptyNotice").css("display","none")}})}else-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.teacherInputStudent=function(data){if(1==data.code){var st=data.students;$.tiziDialog({content:data.msg,icon:"succeed",ok:function(){for(var tr="",i=0;i<data.students.length;++i){var atr=$("#crtemplate").html();atr=atr.replace("%student_name%",st[i].student_name),atr=atr.replace("%student_id%",st[i].student_id),atr=atr.replace("%student_id%",st[i].student_id),atr=atr.replace("%password%",st[i].password),atr=atr.replace("学生还未激活帐号",st[i].lastactive),tr+=atr}$.browser.msie&&"7.0"==$.browser.version||$.browser.msie&&"6.0"==$.browser.version?($(".myallClass_student").append("<tr>"+tr+"</tr>"),$(".myallClass_student tr").each(function(){""==$(this).html()&&$(this).remove()})):$(".myallClass_student").append(tr);var student_total=parseInt($("#student_total").text());$("#student_total").text(student_total+data.students.length),1==data.code&&(window.location.href=window.location.href)}})}else-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.alterClassGrade=function(data){1==data.code?$.tiziDialog({content:data.msg,icon:"succeed",ok:function(){var _name=data.name;$("#ClassGrade").text(_name),$("#lft_"+$("#class_id").val()).text(_name)}}):-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.deleteClass=function(data){1==data.code?($.tiziDialog.list.deleteClassId.close(),$.tiziDialog({content:data.msg,icon:"succeed",ok:function(){window.location.reload()}})):-999==data.code?showLogin.show_login():$.tiziDialog({content:data.msg})},exports.acceptInvite=function(data){1==data.code?$.tiziDialog({content:data.msg,icon:"succeed",close:function(){window.location.href=data.redirect}}):$.tiziDialog({content:data.msg,close:function(){data.redirect&&(window.location.href=data.redirect)}})}}),define("module/common/basics/common/showLogin",[],function(require,exports){exports.show_login=function(){$.tiziDialog({content:json.msg,icon:"question",ok:function(){window.location.href=baseUrlName+"login"},cancel:!0})}});